---
title: "Про открытие каналов в Лайтнинге"
date: 2019-12-18T00:00:00+00:00
categories: [Биткоин, LightningNetwork]
---

Продолжим аналогию с блокнотом. Первая же проблема, которая возникает: отсутствие гарантий оплаты. Одна сторона выполнит свои обязательства (выполнит услуги или передаст товар), а другая просто откажется платить. Лайтнинг решает эту проблему прямо: прежде чем начинать обмен необходимо зарезервировать средства, и именно они и будут участвовать в обмене. Этот механизм даёт гарантию оплаты, но создаёт и одно неудобство: *на Лайтнинге нельзя перевести больше битков, чем было зарезервировано*.

Если отойти от аналогии, то резервирование средств — это открытие канала. Открытие происходит через Биткоин-транзакцию, которая переводит средства на специальный скрипт. Этот скрипт гарантирует, что:
1. До закрытия канала средства не принадлежат ни одной из сторон.
2. Закрытие канала и финальная транзакция происходят по обоюдному согласию.
3. Если что-то идёт не так (кто-то начинает жульничать), любая из сторон может откатить все промежуточные платежи и вернуть зарезервированные средства.

В следующий раз — о том как сатоши движутся по каналу.